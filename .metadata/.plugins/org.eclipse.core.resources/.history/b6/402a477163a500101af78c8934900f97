package Modelado;

import java.util.List;

public class Entrega {
	 private int id;
	    private String dniMotorizado;
	    private int cantidad; // cantidad que realmente se contará como entregada (aceptadas)
	    private int requestedCantidad; // cantidad que el usuario ingresó originalmente
	    private String fecha; // formato YYYY-MM-DD
	    private List<DetalleEntrega> detalles; // lista con cada tarjeta procesada

	    // Nuevo constructor: cantidad = acceptedCount (las aceptadas), requestedCantidad = lo solicitado
	    public Entrega(int id, String dniMotorizado, int cantidad, int requestedCantidad, String fecha, List<DetalleEntrega> detalles) {
	        this.id = id;
	        this.dniMotorizado = dniMotorizado;
	        this.cantidad = cantidad;
	        this.requestedCantidad = requestedCantidad;
	        this.fecha = fecha;
	        this.detalles = detalles;
	    }

	    // getters / setters
	    public int getId() { return id; }
	    public void setId(int id) { this.id = id; }

	    public String getDniMotorizado() { return dniMotorizado; }
	    public void setDniMotorizado(String dniMotorizado) { this.dniMotorizado = dniMotorizado; }

	    // cantidad registrada efectivamente (aceptadas)
	    public int getCantidad() { return cantidad; }
	    public void setCantidad(int cantidad) { this.cantidad = cantidad; }

	    public int getRequestedCantidad() { return requestedCantidad; }
	    public void setRequestedCantidad(int requestedCantidad) { this.requestedCantidad = requestedCantidad; }

	    public String getFecha() { return fecha; }
	    public void setFecha(String fecha) { this.fecha = fecha; }

	    public List<DetalleEntrega> getDetalles() { return detalles; }
	    public void setDetalles(List<DetalleEntrega> detalles) { this.detalles = detalles; }

	    // utilidad: contar cuántos detalles están conformes (si por alguna razón cantidad no coincide)
	    public int getAcceptedCountFromDetalles() {
	        if (detalles == null) return 0;
	        int s = 0;
	        for (DetalleEntrega d : detalles) {
	            if (d != null && d.isConforme()) s++;
	        }
	        return s;
	    }
}
